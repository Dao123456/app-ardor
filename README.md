# ledger-app-ardor

This is the official Ardor wallet app for the Ledger Nano S and X

## Things to make sure that happen

There are a few things that a dev must make sure the app is doing, and there is no way to have this inharintly happen in the code
bacause of C limitations, so it's desribed here.

Because we use a Union of states in one state object called state (defined in ardor.h, in order to save memory) the app is vulnerable to
an attack in which the state is filled using one command and then exploited using a different command's interpretation of the same state
so when switching between command types we HAVE TO MAKE SURE WE CLEAR STATES, currently implementated in ardor_main()

As an extention to the paragraph above, STATE HAS TO BE CLEARED whenever we get some sort of an error in a handler function which manages state

## Code design:

Consts and hard coded things are stored in config.h

txnTypesList.c is autogenerated by createTxnTypes.py from txtypes.txt, this list is generated from the java code
and the whole process is used to sync between the 2 Ledger App code and Java implementation

The code flow starts at ardor_main which is a try/catch (global exception catch, so that the app wont crash) loop on io_exchange,
waiting for the next command buffer and the calling the appropriate handler function